# ZenReply 项目说明文档（评审版）

## 1. 项目信息

- 项目名称：ZenReply
- 项目类型：桌面端 AI 沟通辅助工具（Tauri App）
- GitHub 仓库：`50829/zen-reply`
- 仓库链接：https://github.com/50829/zen-reply

## 2. 产品简介

ZenReply 是一款面向中文社交与职场沟通场景的 AI 外挂工具。  
它将用户“情绪化、冲动型”的原始草稿，快速转化为“体面、自然、可直接发送”的高情商回复。

产品核心价值：

- 降低沟通焦虑：用户不用在关键对话中临场组织措辞。
- 提升表达质量：避免情绪化失控，保留诉求并优化语气。
- 保持用户掌控：只写入剪贴板，不自动代发。

## 3. 目标用户与使用场景

目标用户：

- 职场人群（汇报、协作、跨部门沟通）
- 高频即时沟通用户（微信、飞书、企业 IM）
- 在冲突场景中需要“稳住表达”的用户

典型场景：

- 面对老板/甲方反馈时快速生成专业回复
- 处理难缠对象时保持边界与体面
- 自定义对象（如“奇葩房东”“催命 HR”）的策略化应答

## 4. 功能清单

- 全局唤醒：`Alt + Space`
- 选区捕获：快捷键触发后自动复制并读取选中文本
- 角色策略：预设对象（老板、甲方、绿茶）+ 自定义对象（`4. ➕自定义`，原位输入 + 自动生成）
- 背景增强：可补充“对方刚才说了什么”
- 真实流式：后端 SSE token 级增量输出
- 会话控制：任意阶段 `Esc` 终止会话并关闭窗口，生成中支持中断当前请求
- 结果闭环：`↵ 确认并复制` 写入系统剪贴板，成功提示后自动关闭窗口

## 5. 产品亮点

### 5.1 系统级效率体验

- 不切应用即可唤醒，完整保持原聊天上下文。
- 键盘优先设计：可用最少操作完成“选中 -> 生成 -> 复制”。

### 5.2 真实流式交互（非假动画）

- 使用后端流式接口与事件推送，文本逐段输出。
- 用户可感知“正在思考”的生成过程，提升产品信任感。

### 5.3 角色策略化 Prompt

- 按对象身份进行语气和策略约束（上位/平级/亲密关系）。
- 自定义对象自动推断语境并匹配回复风格。

### 5.4 可控且安全的发送路径

- 仅操作本地剪贴板，不自动代发消息。
- 用户最终发送动作仍由自己完成，避免误触和越权。

## 6. 技术方案特色

### 6.1 技术栈

- 桌面框架：Tauri v2（Rust）
- 前端：React + TypeScript + Vite
- 样式与动效：Tailwind CSS v4 + Framer Motion
- 模型调用：OpenAI 兼容 `chat/completions` 流式接口（SSE）

### 6.2 架构分层

前端 UI 层：

- 负责状态机、交互动效、键盘行为
- 监听后端流式事件并实时渲染

前端流式控制层：

- `requestId` 级请求管理
- 新请求启动时自动取消旧请求

Rust 能力层：

- 全局快捷键注册
- 选中文本捕获与窗口控制
- SSE 流式请求、事件分发、取消检查

### 6.3 关键工程能力

- 流式中断机制：前后端联动取消，避免并发脏流
- 会话终止一致性：`Esc` 在任意阶段强制收敛
- 首段文本清理：自动去除模型开头多余换行

## 7. 交互流程（评委演示）

1. 在聊天框输入并选中一段情绪化文本。
2. 按 `Alt + Space` 唤醒 ZenReply，自动显示原始文本。
3. 选择对象（`1/2/3`）或按 `4` 输入自定义对象。
4. 按 Enter 触发生成，观察实时流式输出。
5. 生成完成后按 Enter 或点击“确认并复制”。
6. 窗口自动关闭，回到聊天框 `Ctrl + V` 发送。

## 8. 配置与运行

项目根目录 `.env` 示例：

```env
ZENREPLY_API_KEY=你的API_KEY
ZENREPLY_API_BASE=https://api.siliconflow.cn/v1
ZENREPLY_MODEL=deepseek-ai/DeepSeek-V3
```

启动命令：

```bash
bun install
bun run tauri dev
```

## 9. 隐私与安全说明

- 本地执行优先：桌面端本地窗口和剪贴板能力。
- 发送可控：不自动发消息，仅复制结果。
- 配置隔离：API Key 使用 `.env` 管理并忽略提交。

## 10. 可扩展方向

- 多模型路由（SiliconFlow / OpenAI / DeepSeek / 智谱）
- Prompt 模板中心与行业场景包
- 历史会话与一键二次润色
- Web 演示版与桌面版统一配置管理

---

如需提交 PDF/PPT，可直接基于本文件转排版导出（评审信息已完整覆盖）。
